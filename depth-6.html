<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style/base/reset.css">
    <link rel="stylesheet" href="style/default.css">
    <style>

        .depth-in {
            display: flex;
            justify-content: center;
            border: 2px dashed gray;
        }

        .menu-head.depth-4, .menu-head.depth-5, .menu-head.depth-6 {padding-top: 12px; padding-bottom: 12px;}
        
        .menu-head.depth-3 {padding: 1.5rem 1.2rem;}
        .menu-head.depth-4{padding-left: 20px;}
        .menu-head.depth-5{padding-left: 28px;}
        .menu-head.depth-6{padding-left: 36px;}
        .system-list {max-height: 1200px; overflow-y: auto;}

        .list-span {font-size: 1.2rem; color: rgb(67, 55, 179); font-weight: 700;}


    </style>
        
         <!-- jquery 스와이퍼 cdn -->
     <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>
<body>
    <div class="sub depth-in" style="position: relative;">  <!-- 클래스 삽입 위치 -->
        <p style="color: rgb(255, 0, 0); position: absolute; top: 50%; left: 20%;">
            <span>depth 2 이상 화살표 임시 제거 버전</span>
            <br>
            <span>- depth 6까지 제작</span>
            <br>
            <span>- 일정 높이 이상 커질 시 세로 스크롤 바 형성</span>
        </p>

        <!-- <div class="lnb__title">
            <h2>노동조합 체계</h2>
        </div> -->
        <!-- 왼쪽 메뉴 트리 영역 -->
   <!-- 메뉴 권한 설정 아코디언 -->
   <ul class="menu-list lnb-list system-list" data-action="accordion">
    <li class="li">
        <!-- 1depth title -->
        <!-- <button type="button" class="btn btn-ico menu-btn" style="border: 1px solid blue;">&#9650;</button> -->

        <!-- <div class="menu-head depth-1">
            <h3 class="tit">노동조합</h3>
        </div> -->
        <div class="menu-body depth-1-body">
            <div class="acco-in">
                <ul class="menu-list lnb-list system-list" data-action="accordion">
                    <li class="li">
                        <div class="menu-head depth-1" style="border-bottom: 0.5rem solid #246BEB;">
                            <h3 class="tit" >노동조합
                                <span class="list-span">1-depth</span>
                            </h3>
                        </div>
                        <div class="menu-body depth-1-body">
                            <div class="acco-in">
                                <ul class="sub-ul">
                                    <li class="depth-2-li">
                                        <div class="menu-head depth-2">
                                            <span class="menu-title">한국노동조합총연맹
                                                <span class="list-span">2-depth</span>
                                            </span>
                                            <button type="button" class="btn btn-ico menu-btn"></button>
                                        </div>
                                        <!-- depth-3 start -->
                                        <div class="menu-body depth-3">
                                            <ul class="sub-ul">

                                                <li class="depth-3-li">
                                                    <div class="menu-head depth-3">
                                                        <span class="menu-title">&#9495; 공무원 노동조합 연맹
                                                        <span class="list-span">3-depth</span>
                                                        </span>
                                                        <!-- <button type="button" class="btn btn-ico menu-btn"></button> -->
                                                    </div>
                                                    <div class="menu-body depth-4">
                                                        <ul class="sub-ul">
                                                            <li class="depth-4-li">
                                                                <div class="menu-head depth-4">
                                                                    <span class="menu-title">&#9495; XXX 공무원 노동조합
                                                                        <span class="list-span">4-depth</span>

                                                                    </span>

                                                                    <!-- <button type="button" class="btn btn-ico menu-btn"></button> -->
                                                                </div>
                                                                <div class="menu-body depth-5">
                                                                    <ul class="sub-ul">
                                                                        <li class="depth-5-li">
                                                                            <div class="menu-head depth-5">
                                                                                <span class="menu-title">&#9495; XXX 공무원 노동조합 지부
                                                                                <span class="list-span">5-depth</span>

                                                                                </span>
                                                                                <!-- <button type="button" class="btn btn-ico menu-btn"></button> -->
                                                                            </div>
                                                                            <div class="menu-body depth-6">
                                                                                <ul class="sub-ul">
                                                                                    <li class="depth-6-li">
                                                                                        <div class="menu-head depth-6">
                                                                                            <span class="menu-title">&#9495; 공무원 노동조합 분회
                                                                                                <span class="list-span">6-depth</span>

                                                                                            </span>
                                                                                        </div>
                                                                                    </li>
                                                                                </ul>
                                                                            </div>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </li>
                                                <!-- depth -3 second -->
                                            </ul>
                                        </div>
                                    </li>
                                    <!-- second depth-2 -->
                                    <li class="depth-2-li">
                                        <div class="menu-head depth-2">
                                            <span class="menu-title">전국민주노동총연맹</span>
                                            <button type="button" class="btn btn-ico menu-btn"></button>
                                        </div>
                                        <!-- depth-3 start -->
                                        <div class="menu-body depth-3">
                                            <ul class="sub-ul">

                                                <li class="depth-3-li">
                                                    <div class="menu-head depth-3">
                                                        <span class="menu-title">&#9495; 공무원 노동조합 연맹</span>
                                                        <!-- <button type="button" class="btn btn-ico menu-btn"></button> -->
                                                    </div>
                                                    <div class="menu-body depth-4">
                                                        <ul class="sub-ul">
                                                            <li class="depth-4-li">
                                                                <div class="menu-head depth-4">
                                                                    <span class="menu-title">&#9495; XXX 공무원 노동조합</span>
                                                                    <!-- <button type="button" class="btn btn-ico menu-btn"></button> -->
                                                                </div>
                                                                <div class="menu-body depth-5">
                                                                    <ul class="sub-ul">
                                                                        <li class="depth-5-li">
                                                                            <div class="menu-head depth-5">
                                                                                <span class="menu-title">&#9495; XXX 공무원 노동조합 지부</span>
                                                                                <!-- <button type="button" class="btn btn-ico menu-btn"></button> -->
                                                                            </div>
                                                                            <div class="menu-body depth-6">
                                                                                <ul class="sub-ul">
                                                                                    <li class="depth-6-li">
                                                                                        <div class="menu-head depth-6">
                                                                                            <span class="menu-title">&#9495; 공무원 노동조합 분회</span>
                                                                                        </div>
                                                                                    </li>
                                                                                </ul>
                                                                            </div>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </li>
                                                <!-- depth -3 second -->
                                            </ul>
                                        </div>
                                    </li>
















                                    <!-- third- deptth 2 -->
                                    <li class="depth-2-li">
                                        <div class="menu-head depth-2">
                                            <span class="menu-title">미가입</span>
                                            <button type="button" class="btn btn-ico menu-btn"></button>
                                        </div>
                                        <div class="menu-body depth-3">
                                            <ul class="sub-ul">
                                                <li class="depth-3-li">
                                                    <div class="menu-head depth-3">
                                                        <span class="menu-title">&#9495; 미가입1
                                                            <span class="list-span">3depth</span>
                                                        </span>
                                                    </div>
                                                </li>
                                                <li class="depth-3-li">
                                                    <div class="menu-head depth-3">
                                                        <span class="menu-title">&#9495; 미가입2
                                                            <span class="list-span">3depth</span>
                                                        </span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                    <!-- 임시  -->
                                    <li class="depth-2-li">
                                        <div class="menu-head depth-2">
                                            <span class="menu-title">회원가입</span>
                                            <button type="button" class="btn btn-ico menu-btn"></button>
                                        </div>
                                        <div class="menu-body depth-3">
                                            <ul class="sub-ul">
                                                <li class="depth-3-li">
                                                    <div class="menu-head depth-3">
                                                        <span class="menu-title">&#9495; 회원가입1
                                                            <span class="list-span">3depth</span>
                                                        </span>
                                                    </div>
                                                </li>
                                                <li class="depth-3-li">
                                                    <div class="menu-head depth-3">
                                                        <span class="menu-title">&#9495; 회원가입2
                                                            <span class="list-span">3depth</span>
                                                        </span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                           <!-- 임시  -->
                                           <li class="depth-2-li">
                                            <div class="menu-head depth-2">
                                                <span class="menu-title">입찰연맹 지사</span>
                                                <button type="button" class="btn btn-ico menu-btn"></button>
                                            </div>
                                            <div class="menu-body depth-3">
                                                <ul class="sub-ul">
                                                    <li class="depth-3-li">
                                                        <div class="menu-head depth-3">
                                                            <span class="menu-title">&#9495; 지사 연맹 입찰
                                                                <span class="list-span">3depth</span>
                                                            </span>
                                                        </div>
                                                    </li>
                                                    <li class="depth-3-li">
                                                        <div class="menu-head depth-3">
                                                            <span class="menu-title">&#9495; 연맹 입찰 가입
                                                                <span class="list-span">3depth</span>
                                                            </span>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </li>
    















                                </ul>
                            </div>
                        </div>
                    </li>
                </ul>
    </div>
</body>


<script>
     $(document).ready(function() {
    // let menuList = $('.menu-list')
    // let menuHeight = menuList.innerHeight();
    // menuList.css('height', menuHeight)
        
    // 3번의 css 가 none일때
    //  if($('.menu-head.depth-3').css('display') === 'none'){
    //      $('.depth-2').css('border-bottom', '0.1rem solid #ddd')
    //  } else {
    //      $('.depth-2').css('border-bottom', '0.3rem solid #16408D')
    //  }

    $('.menu-head.depth-2').on('click', function() {
        $(this).css('border-bottom', '0.3rem solid #003675')
        $('.menu-head.depth-2').not($(this)).css('border-bottom', '0.1rem solid #ddd')
    })

    $('.menu-body .menu-head').on('click', function() {
        const defaultBody = $('.menu-body')
        const $currentBody = $(this).next('.menu-body');
        
        // 현재 선택된 .menu-body의 display 속성 토글
        if ($currentBody.css('display') === 'none') {
            $currentBody.slideDown(); // 열기 (display: block)
            $(this).find('.menu-btn').css('background', 'url(img/arrow__top-blue.png) no-repeat center'); // 위로 화살표 변경

            // currentBody가 존재하지 않을때 (마지막 요소일때)           
        } else {
            $currentBody.slideUp(); 
            $(this).find('.menu-btn').css('background', 'url(img/arrow__bottom-bk.png) no-repeat center'); // 위로 화살표 변경
            $(this).css('border-bottom', '0.1rem solid #ddd')
        }
        
        
        if($currentBody.length === 0 || $(this).hasClass('depth-2') === false){ // 마지막 요소이거나, depth-2 클래스를 가지고 있지 않으면

            if($(this).hasClass('depth-1') === false) {
                $(this).css('background-color', '#eee')
                $('.menu-body .menu-head').not(this).css('background-color', 'transparent')
            }
        }
    });

    $('.menu-body:not(.depth-1-body)').slideUp();

    $('.menu-head input[type="checkbox"]').on('click', function(e) {
        e.stopPropagation(); 
    });
    });
</script>

</html>